<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="utf-8">

	<link rel="stylesheet" type="text/css" href="css/brfv4_examples_theme.css">
	<title>HTML5/Javascript face tracking</title>

	<!--<script src="js/libs/createjs/preloadjs-0.6.2.min.js"></script>-->
	<script src="js/libs/createjs/preloadjs.min.js"></script>
	<script src="js/BRFv4Demo.js"></script>
	<script src="js/html2canvas.min.js"></script>

	<script>
		window.onload = brfv4Example.start; //see js/BRFv4Demo.js
	</script>



</head>

<body style="position: relative !important;">

<div id="_wrapper">

	<div id="_content">
		<video  id="_webcam" playsinline></video>
		<canvas id="_imageData"></canvas>
		<canvas id="_faceSub"></canvas>
		<canvas id="_t3d" style="width: 100%; height: auto;"></canvas>
		<canvas id="_f3d"></canvas>
		<canvas id="_drawing"></canvas>
		<canvas id="combined" width="640px" height="480px"></canvas>
		<div id="_progressBar"></div>
		<img src="" id="image" style="z-index: 999999999; width: 600px; height: auto;">
	</div>
</div>
<div id="containersnap" style="width: 100%;">
	<div id="tryhtml2canvas" onclick="generate()" style="position: absolute; bottom: 400px; left: 50%;margin: 0 auto; cursor: pointer;">
		<img src="data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjZmZmZmZmIiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiIHdpZHRoPSIyNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMuMiIvPgogICAgPHBhdGggZD0iTTkgMkw3LjE3IDRINGMtMS4xIDAtMiAuOS0yIDJ2MTJjMCAxLjEuOSAyIDIgMmgxNmMxLjEgMCAyLS45IDItMlY2YzAtMS4xLS45LTItMi0yaC0zLjE3TDE1IDJIOXptMyAxNWMtMi43NiAwLTUtMi4yNC01LTVzMi4yNC01IDUtNSA1IDIuMjQgNSA1LTIuMjQgNS01IDV6Ii8+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+Cjwvc3ZnPgo=" class="pippo" data-reactid="50" width="100px">
	</div>
</div>
<div id="_settingsRight" style="display: none;"></div>
<script type="text/javascript">
function generate() {
var canvas1 = document.getElementById("_imageData");
var ctx1 = canvas1.getContext("2d");


var canvas2 = document.getElementById("_t3d");
var ctx2 = canvas2.getContext("2d");


var combined = document.getElementById("combined");
var ctx = combined.getContext("2d");

ctx.drawImage(canvas1, 0, 0); //Copying Canvas1
ctx.drawImage(canvas2, 0, 0, window.innerWidth, window.innerHeight); //Copying Canvas2

document.getElementById("image").src = combined.toDataURL()
}
</script>
</body>

</html>
